!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("angular-flickity",[],n):"object"==typeof exports?exports["angular-flickity"]=n():t["angular-flickity"]=n()}(this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var c=e[i]={exports:{},id:i,loaded:!1};return t[i].call(c.exports,c,c.exports,n),c.loaded=!0,c.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";var i=e(1),c=e(2),o=e(3),r=e(5),s=e(7);angular.module("bc.Flickity",[]).provider("FlickityConfig",i.FlickityConfigProvider).service("FlickityService",c.FlickityService).directive("bcFlickity",o.FlickityDirective).directive("bcFlickityNext",r.FlickityNextDirective).directive("bcFlickityPrevious",s.FlickityPreviousDirective)},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.FlickityConfigProvider=function(){function t(){e(this,t),this.accessibility=!0,this.autoPlay=!1,this.cellAlign="center",this.cellSelector=void 0,this.contain=!1,this.draggable=!0,this.freeScroll=!1,this.freeScrollFriction=!1,this.selectedAttraction=.025,this.friction=.28,this.initialIndex=0,this.lazyLoad=!0,this.percentPosition=!0,this.prevNextButtons=!0,this.pageDots=!0,this.resize=!0,this.rightToLeft=!1,this.setGallerySize=!0,this.watchCSS=!1,this.wrapAround=!1,this.imagesLoaded=!0,this.asNavFor=!0}return i(t,[{key:"$get",value:function(){return this}}]),t}()},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.FlickityService=function(){function t(n,i,c,o){"ngInject";e(this,t),this.$timeout=n,this.$q=i,this.$rootScope=c,this.$log=o,this.instances=[]}return t.$inject=["$timeout","$q","$rootScope","$log"],i(t,[{key:"create",value:function(t){var n=this,e=arguments.length<=1||void 0===arguments[1]?this.instances.length+1:arguments[1],i=arguments[2];if(this._findObjectById(this.instances,e)){var c=this._getFlickityIndex(e);return this.$log.error("This ID is already in use: ",this.instances[c]),!1}var o={id:e,instance:new Flickity(t,i)};return this.instances.push(o),this.$q(function(t){n._bindEvents(e).then(function(){t(o)})})}},{key:"destroy",value:function(t){var n=this,e=100,i=this._getFlickityIndex(t);return this.$q(function(c,o){i<0&&o("Instance "+t+" not found"),n.$timeout(function(){n.instances[i].instance.destroy(),n.instances.splice(i,1),c("Instance "+t+" destroyed.")},e)})}},{key:"next",value:function(t,n){var e=this,i=this._getFlickityIndex(t);return this.$q(function(c,o){i<0?o("Instance "+t+" not found"):(e.instances[i].instance.next(n),c(e.instances[i]))})}},{key:"previous",value:function(t,n){var e=this,i=this._getFlickityIndex(t);return this.$q(function(c,o){i<0?o("Instance "+t+" not found"):(e.instances[i].instance.previous(n),c(e.instances[i]))})}},{key:"select",value:function(t,n){var e=this,i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],c=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],o=this._getFlickityIndex(t);return this.$q(function(r,s){o<0?s("Instance "+t+" not found"):(e.instances[o].instance.select(n,i,c),r(e.instances[o]))})}},{key:"selectedIndex",value:function(t){var n=this,e=this._getFlickityIndex(t);return this.$q(function(i,c){e<0?c("Instance "+t+" not found"):i(n.instances[e].instance.selectedIndex)})}},{key:"resize",value:function(t){var n=this,e=this._getFlickityIndex(t);return this.$q(function(i,c){e<0?c("Instance "+t+" not found"):(n.instances[e].instance.resize(),i(n.instances[e]))})}},{key:"reposition",value:function(t){var n=this,e=this._getFlickityIndex(t);return this.$q(function(i,c){e<0?c("Instance "+t+" not found"):(n.instances[e].instance.reposition(),i(n.instances[e]))})}},{key:"reloadCells",value:function(t){var n=this,e=this._getFlickityIndex(t);return this.$q(function(i,c){e<0?c("Instance "+t+" not found"):(n.instances[e].instance.reloadCells(),i(n.instances[e]))})}},{key:"get",value:function(t){var n=this,e=this._getFlickityIndex(t);return this.$q(function(i,c){e<0?c("Instance "+t+" not found"):i(n.instances[e])})}},{key:"getFirst",value:function(){var t=this;return this.$q(function(n,e){!t.instances||t.instances.length<1?e("No instances exist"):n(t.instances[0])})}},{key:"getByElement",value:function(t){return this.$q(function(n,e){var i=Flickity.data(t);i?n(i):e("Instance not found for "+t)})}},{key:"prepend",value:function(t,n){var e=this,i=this._getFlickityIndex(t);return this.$q(function(c,o){i<0?o("Instance "+t+" not found"):(e.instances[i].instance.prepend(n),c(e.instances[i]))})}},{key:"append",value:function(t,n){var e=this,i=this._getFlickityIndex(t);return this.$q(function(c,o){i<0?o("Instance "+t+" not found"):(e.instances[i].instance.append(n),c(e.instances[i]))})}},{key:"insert",value:function(t,n,e){var i=this,c=this._getFlickityIndex(t);return this.$q(function(o,r){c<0?r("Instance "+t+" not found"):(i.instances[c].instance.insert(n,e),o(i.instances[c]))})}},{key:"getCellElements",value:function(t){var n=this,e=this._getFlickityIndex(t);return this.$q(function(i,c){e<0?c("Instance "+t+" not found"):i(n.instances[e].instance.getCellElements())})}},{key:"remove",value:function(t,n){var e=this,i=this._getFlickityIndex(t);return this.$q(function(c,o){i<0?o("Instance "+t+" not found"):(e.instances[i].instance.remove(n),c(e.instances[i]))})}},{key:"selectedElement",value:function(t){var n=this,e=this._getFlickityIndex(t);return this.$q(function(i,c){e<0?c("Instance "+t+" not found"):i(n.instances[e].instance.selectedElement)})}},{key:"cells",value:function(t){var n=this,e=this._getFlickityIndex(t);return this.$q(function(i,c){e<0?c("Instance "+t+" not found"):i(n.instances[e].instance.cells)})}},{key:"_getFlickityIndex",value:function(t){var n=void 0;return this.instances.length?this.instances.forEach(function(e,i){e.id===t&&(n=i)}):n=-1,n}},{key:"_bindEvents",value:function(t){var n=this,e=this._getFlickityIndex(t);return!(e<0)&&this.$q(function(t){var i=n.instances[e].id;n.instances[e].instance.on("cellSelect",function(){n.$rootScope.$emit("Flickity:"+i+":cellSelect",n.instances[e])}),n.instances[e].instance.on("settle",function(){n.$rootScope.$emit("Flickity:"+i+":settle",n.instances[e])}),n.instances[e].instance.on("dragStart",function(t,e){n.$rootScope.$emit("Flickity:"+i+":dragStart",{event:t,pointer:e})}),n.instances[e].instance.on("dragMove",function(t,e,c){n.$rootScope.$emit("Flickity:"+i+":dragMove",{event:t,pointer:e,moveVector:c})}),n.instances[e].instance.on("dragEnd",function(t,e){n.$rootScope.$emit("Flickity:"+i+":dragEnd",{event:t,pointer:e})}),n.instances[e].instance.on("pointerDown",function(t,e){n.$rootScope.$emit("Flickity:"+i+":pointerDown",{event:t,pointer:e})}),n.instances[e].instance.on("pointerMove",function(t,e,c){n.$rootScope.$emit("Flickity:"+i+":pointerMove",{event:t,pointer:e,moveVector:c})}),n.instances[e].instance.on("pointerUp",function(t,e){n.$rootScope.$emit("Flickity:"+i+":pointerUp",{event:t,pointer:e})}),n.instances[e].instance.on("staticClick",function(t,e,c,o){n.$rootScope.$emit("Flickity:"+i+":staticClick",{event:t,pointer:e,cellElement:c,cellIndex:o})}),n.instances[e].instance.on("lazyLoad",function(t,e){n.$rootScope.$emit("Flickity:"+i+":lazyLoad",{event:t,cellElement:e})}),t(!0)})}},{key:"_findObjectById",value:function(t,n){return t.filter(function(t){return t.id===n})[0]}}]),t}()},function(t,n,e){"use strict";function i(t,n){"ngInject";function e(t,n,e,i){i.bcFlickityId||e.id&&(i.bcFlickityId=e.id)}function i(e,i,c,o){t(function(){n.create(i[0],o.bcFlickityId,o.options).then(function(t){o.Flickity=t.instance,o.bcFlickityId=t.id})});e.$on("$destroy",function(t){n.destroy(o.bcFlickityId)})}e.$inject=["$scope","$element","$attrs","$controller"],i.$inject=["$scope","$element","$attrs","$controller"];var o={restrict:"A",scope:{},bindToController:{bcFlickity:"@?",bcFlickityId:"@?"},compile:function(){return{pre:e,post:i}},controller:c.FlickityController,controllerAs:"vm"};return o}i.$inject=["$timeout","FlickityService"],Object.defineProperty(n,"__esModule",{value:!0}),n.FlickityDirective=i;var c=e(4)},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.FlickityController=function(){function t(n){"ngInject";e(this,t),this.FlickityConfig=n,this._activate()}return t.$inject=["FlickityConfig"],i(t,[{key:"_activate",value:function(){this.options=angular.extend({},this.FlickityConfig,angular.fromJson(this.bcFlickity))}}]),t}()},function(t,n,e){"use strict";function i(t,n,e,i,o){"ngInject";function r(t,n,i,c){function r(t,n){c.wrapAround||t!==n?i.$set("disabled",!1):i.$set("disabled","disabled")}var s=c.flickityId,l="Flickity:"+s+":cellSelect",a="Flickity:"+c.flickityId+":settle";e.$on(l,function(t,n){r(n.instance.cells.length,n.instance.selectedIndex+1)}),e.$on(a,function(t,n){r(n.instance.cells.length,n.instance.selectedIndex+1)});n.on("click",function(){o.next(c.flickityId,c.wrapAround)})}r.$inject=["$scope","$element","$attrs","$controller"];var s={restrict:"A",scope:{},bindToController:{bcFlickityNext:"=?",bcFlickityId:"@?"},compile:function(){return{pre:r}},controller:c.NextController,controllerAs:"vm"};return s}i.$inject=["$log","$timeout","$rootScope","FlickityConfig","FlickityService"],Object.defineProperty(n,"__esModule",{value:!0}),n.FlickityNextDirective=i;var c=e(6)},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.NextController=function(){function t(n,i,c,o,r){"ngInject";e(this,t),this.$log=n,this.$q=i,this.$timeout=c,this.FlickityConfig=o,this.FlickityService=r,this._activate()}return t.$inject=["$log","$q","$timeout","FlickityConfig","FlickityService"],i(t,[{key:"_activate",value:function(){this.wrapAround=this.bcFlickityNext||this.FlickityConfig.wrapAround,this.flickityId=null,this._setId()}},{key:"_setId",value:function(){var t=this;return this.$q(function(n,e){t.bcFlickityId?(t.flickityId=t.bcFlickityId,n(t.flickityId)):t.$timeout(function(){t.FlickityService.getFirst().then(function(e){t.flickityId=e.id,n(t.flickityId)})["catch"](function(n){t.$log.warn(n),e(n)})})})}}]),t}()},function(t,n,e){"use strict";function i(t,n,e,i,o){"ngInject";function r(t,n,i,c){function r(t){c.wrapAround||0!==t?i.$set("disabled",!1):i.$set("disabled","disabled")}var s=c.flickityId,l="Flickity:"+s+":cellSelect",a="Flickity:"+c.flickityId+":settle";e.$on(l,function(t,n){r(n.instance.selectedIndex)}),e.$on(a,function(t,n){r(n.instance.selectedIndex)});n.on("click",function(){o.previous(c.flickityId,c.wrapAround)})}r.$inject=["$scope","$element","$attrs","$controller"];var s={restrict:"A",scope:{},bindToController:{bcFlickityPrevious:"=?",bcFlickityId:"@?"},compile:function(){return{pre:r}},controller:c.PreviousController,controllerAs:"vm"};return s}i.$inject=["$log","$timeout","$rootScope","FlickityConfig","FlickityService"],Object.defineProperty(n,"__esModule",{value:!0}),n.FlickityPreviousDirective=i;var c=e(8)},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.PreviousController=function(){function t(n,i,c,o,r){"ngInject";e(this,t),this.$log=n,this.$q=i,this.$timeout=c,this.FlickityConfig=o,this.FlickityService=r,this._activate()}return t.$inject=["$log","$q","$timeout","FlickityConfig","FlickityService"],i(t,[{key:"_activate",value:function(){this.wrapAround=this.bcFlickityPrevious||this.FlickityConfig.wrapAround,this.flickityId=null,this._setId()}},{key:"_setId",value:function(){var t=this;return this.$q(function(n,e){t.bcFlickityId?(t.flickityId=t.bcFlickityId,n(t.flickityId)):t.$timeout(function(){t.FlickityService.getFirst().then(function(e){t.flickityId=e.id,n(t.flickityId)})["catch"](function(n){t.$log.warn(n),e(n)})})})}}]),t}()}])});